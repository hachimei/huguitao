<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
  <title>淹没分析</title>
  <link href="../static/Cesium/Widgets/widgets.css" rel="stylesheet" />
  <script src="../static/Cesium/Cesium.js"></script>
  <style>
    html,
    body,
    #cesiumContainer {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
    }

    .tools {
      position: absolute;
      top: 20px;
      left: 12px;
      z-index: 10;
    }
  </style>

</head>

<body>
  <div class="tools">
    <button onclick="start()">开始</button>
    <button onclick="stop()">结束</button>
  </div>
  <div id="cesiumContainer"></div>
  <script>

    function a0_0x4a29(_0x42bc4d, _0x1340e0) { const _0x5649d1 = a0_0x5649(); return a0_0x4a29 = function (_0x4a291f, _0x41d491) { _0x4a291f = _0x4a291f - 0x1a9; let _0x2016c0 = _0x5649d1[_0x4a291f]; return _0x2016c0; }, a0_0x4a29(_0x42bc4d, _0x1340e0); } const a0_0x3677bf = a0_0x4a29; (function (_0x3ec89b, _0x4eec54) { const _0x3573a8 = a0_0x4a29, _0x26e23a = _0x3ec89b(); while (!![]) { try { const _0x5d9e2c = parseInt(_0x3573a8(0x1c8)) / 0x1 + -parseInt(_0x3573a8(0x1cc)) / 0x2 * (parseInt(_0x3573a8(0x1c0)) / 0x3) + parseInt(_0x3573a8(0x1aa)) / 0x4 * (-parseInt(_0x3573a8(0x1ad)) / 0x5) + -parseInt(_0x3573a8(0x1b7)) / 0x6 + -parseInt(_0x3573a8(0x1b0)) / 0x7 * (parseInt(_0x3573a8(0x1d5)) / 0x8) + -parseInt(_0x3573a8(0x1c4)) / 0x9 + -parseInt(_0x3573a8(0x1b5)) / 0xa * (-parseInt(_0x3573a8(0x1d8)) / 0xb); if (_0x5d9e2c === _0x4eec54) break; else _0x26e23a['push'](_0x26e23a['shift']()); } catch (_0x2be8ee) { _0x26e23a['push'](_0x26e23a['shift']()); } } }(a0_0x5649, 0xe5831)); const Cesium = window[a0_0x3677bf(0x1d1)]; let p0 = new Cesium[(a0_0x3677bf(0x1b2))](62194.45373265314, 5669267.88190016, 2918648.9515907196), p1 = new Cesium[(a0_0x3677bf(0x1b2))](56303.87004217449, 5673698.381300747, 2910246.3633272164), p2 = new Cesium[(a0_0x3677bf(0x1b2))](47580.70560061326, 5671620.854723226, 2914442.961863161), p3 = new Cesium[(a0_0x3677bf(0x1b2))](53458.6273335863, 5666830.965259356, 2922892.454129204); function a0_0x5649() { const _0x24d6d3 = ['Color', 'entities', '48rQAgcL', 'onTick', 'PolygonHierarchy', '320947fQkSMn', 'LEFT_CLICK', '309268Geevdu', 'pick', 'Viewer', '40TIyffR', 'style', 'GeometryInstance', '1193997CTtRVz', 'Material', 'Cartesian3', 'createWorldTerrain', 'none', '910OCIRxk', 'LIGHTBLUE', '133692TvEqqr', 'ScreenSpaceEventHandler', 'position', 'primitives', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIxZjI0ZWRkMi1iYjUzLTRlZGYtYjk4Yy0yNTczYzY0YWY1NjgiLCJpZCI6MTY3ODYsImlhdCI6MTY3ODE1NTIyMX0.x0jWIoh2wIH21yx5LCfUnx_kN6Zh6f7zagedKFc1PRw', 'defaultAccessToken', 'scene', 'withAlpha', 'https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer', '30bepLFI', 'flyTo', 'VERTEX_FORMAT', 'CallbackProperty', '4866039IhFNsJ', 'Primitive', 'Water', 'setInputAction', '680689snZpda', 'cesiumContainer', 'EllipsoidSurfaceAppearance', 'add', '38160TawIsv', 'display', '../static/images/wawater.jpeg', 'clock', 'ArcGisMapServerImageryProvider', 'Cesium', 'globe']; a0_0x5649 = function () { return _0x24d6d3; }; return a0_0x5649(); } const positions = [p0, p1, p2, p3]; let key = a0_0x3677bf(0x1bb); Cesium['Ion'][a0_0x3677bf(0x1bc)] = key; let viewer = new Cesium[(a0_0x3677bf(0x1ac))](a0_0x3677bf(0x1c9), { 'imageryProvider': new Cesium[(a0_0x3677bf(0x1d0))]({ 'url': a0_0x3677bf(0x1bf) }), 'terrainProvider': Cesium[a0_0x3677bf(0x1b3)](), 'geocoder': !![], 'homeButton': !![], 'sceneModePicker': !![], 'baseLayerPicker': !![], 'navigationHelpButton': !![], 'animation': !![], 'timeline': !![], 'fullscreenButton': !![], 'vrButton': !![], 'selectionIndicator': !![], 'infoBox': !![] }); viewer['_cesiumWidget']['_creditContainer'][a0_0x3677bf(0x1ae)][a0_0x3677bf(0x1cd)] = a0_0x3677bf(0x1b4), viewer['camera'][a0_0x3677bf(0x1c1)]({ 'destination': new Cesium[(a0_0x3677bf(0x1b2))](52066.05151397444, 5684548.956018807, 2920846.197147853) }), initRiver(positions); function getClickPos() { const _0x4c73f2 = a0_0x3677bf; let _0x1253ec = new Cesium[(_0x4c73f2(0x1b8))](viewer['canvas']); _0x1253ec[_0x4c73f2(0x1c7)](_0x53a559 => { const _0x2b58da = _0x4c73f2; let _0x51c125 = returnCartesian(viewer, _0x53a559[_0x2b58da(0x1b9)]); console['log'](_0x51c125); }, Cesium['ScreenSpaceEventType'][_0x4c73f2(0x1a9)]); } function returnCartesian(_0x589e3e, _0x1fadfb) { const _0x21d544 = a0_0x3677bf; let _0x5033c4 = _0x589e3e[_0x21d544(0x1bd)][_0x21d544(0x1ab)](_0x1fadfb); if (!_0x5033c4) { let _0x5bc931 = _0x589e3e['camera']['getPickRay'](_0x1fadfb); _0x5033c4 = _0x589e3e['scene'][_0x21d544(0x1d2)]['pick'](_0x5bc931, _0x589e3e[_0x21d544(0x1bd)]); } return _0x5033c4; } function stop() { const _0x8c5dd9 = a0_0x3677bf; viewer[_0x8c5dd9(0x1d4)]['removeAll'](); } function start() { const _0x5826e9 = a0_0x3677bf; var _0x3e2106 = 0x898; viewer[_0x5826e9(0x1d4)][_0x5826e9(0x1cb)]({ 'polygon': { 'hierarchy': positions, 'material': Cesium['Color'][_0x5826e9(0x1b6)][_0x5826e9(0x1be)](0.5), 'extrudedHeight': new Cesium[(_0x5826e9(0x1c3))](function () { return _0x3e2106; }, ![]) } }), viewer[_0x5826e9(0x1cf)][_0x5826e9(0x1d6)]['addEventListener'](function () { _0x3e2106 > 0x9c4 && (_0x3e2106 = 0x898), _0x3e2106 += 0.3; }); } function initRiver(_0x4e135b) { const _0x476206 = a0_0x3677bf; let _0x3d1dd9 = new Cesium[(_0x476206(0x1c5))]({ 'allowPicking': ![], 'asynchronous': ![], 'geometryInstances': new Cesium[(_0x476206(0x1af))]({ 'id': 'initRiver', 'geometry': new Cesium['PolygonGeometry']({ 'polygonHierarchy': new Cesium[(_0x476206(0x1d7))](_0x4e135b), 'vertexFormat': Cesium['EllipsoidSurfaceAppearance'][_0x476206(0x1c2)], 'extrudedHeight': 0x898, 'height': 0x0 }) }), 'appearance': new Cesium[(_0x476206(0x1ca))]({ 'aboveGroud': !![], 'material': new Cesium[(_0x476206(0x1b1))]({ 'fabric': { 'type': _0x476206(0x1c6), 'uniforms': { 'blendColor': new Cesium[(_0x476206(0x1d3))](0x0, 0x0, 0x1, 0.3), 'normalMap': _0x476206(0x1ce), 'frequency': 0xc8, 'animationSpeed': 0.01, 'amplitude': 0xa } } }) }) }); viewer[_0x476206(0x1bd)][_0x476206(0x1ba)][_0x476206(0x1cb)](_0x3d1dd9); }

  </script>
</body>

</html>